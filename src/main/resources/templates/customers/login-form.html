<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Login</title>
  <meta th:replace="fragments :: global-styles">
</head>

<body>
  <div sec:authorize="isAuthenticated()" th:replace="home :: menu-container"></div>

  <div class="main-container" th:classappend="${#authorization.expression('isAuthenticated()')} ? '' : 'mt-4'">

    <h2 class="mb-3">Zaloguj się</h2>

    <p th:if="${param.error != null}" class="text-danger">Nazwa użytkownika lub hasło są błędne.</p>
    <p th:if="${param.logout != null}" class="text-success">Miało miejsce pomyślne wylogowanie użytkownika.</p>

    <form class="form-add-or-update" action="#" th:action="@{/login-process}" method="POST">

      <label for="username">User: </label>
      <input type="text" id="username" name="username" />

      <label for="password">Password: </label>
      <input type="password" id="password" name="password" />

      <div style="grid-column: 1/3">
        <a class="btn btn-primary" th:ref="@{/customers/add}">Zarejestruj się</a>
        <input class="btn btn-success" type="submit" value="Zaloguj się" />
      </div>

    </form>

  </div>
</body>

</html>